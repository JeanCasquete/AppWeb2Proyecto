
<div class="bodyComponents">
  <div class="text-center lg:text-left">
    <h1 class="text-3xl text-center font-bold">Doctores</h1>
  </div>
  <div class="flex flex-row justify-between items-center">
    <div class="flex flex-row">
      <button class="btn flex flex-row items-center m-2 " onclick="my_modal_3.showModal()">
        <img src= "../../../assets/imagenes/boton-agregar.png" alt="+">
        <p class="items-center mx-2">Agregar</p>
      </button>
      <div class="form-control d-flex flex-row items-center m-2">
        <input type="text" placeholder="Buscar" 
        class="input input-bordered w-24 md:w-auto" [(ngModel)]="buscarTexto" (blur)="limpiarTexto()"  (keyup)="buscarDoctor(buscarTexto)" />
      </div>

    </div>
  </div>
  <hr>
  <div class="flex flex-row overflow-x-auto justify-self-center" *ngIf="datos.length > 0 ">
    <table class="table table-zebra text-lg">
      <thead>
        <tr>
          <th>ID</th>
          <th>Doctor</th>
          <th>Telefono</th>
          <th>Correo</th>
          <th>Especializacion</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let doctor of datos">
          <td>{{ doctor.id }}</td>
          <td>{{ doctor.nombre }}</td>
          <td>{{ doctor.telefono }}</td>
          <td>{{ doctor.correo }}</td>
          <td>{{ doctor.especializacion }}</td>
          <td>
            <button class="btn m-2 btn-accent text-slate-200" onclick="my_modal_2.showModal()" (click)="ObtenerDatosE(doctor)">Editar</button>
            <button class="btn m-2 btn-error text-slate-200  " (click)="EliminarDatos(doctor.id)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
   


  <dialog id="my_modal_3" class="modal" >
    <form  [formGroup]="doctorForm" method="dialog" class="modal-box" (ngSubmit)="AgregarDatos()">
      <!-- Campos del formulario -->
      <h3 class="font-bold text-lg"> - CREAR - </h3>
      <input  class="m-2 p-2" type="text" placeholder="ID" formControlName="id">
      <input class="m-2 p-2" type="text" placeholder="Nombre" formControlName="nombre">
      <input class="m-2 p-2" type="text" placeholder="Telefono" formControlName="telefono">
      <input class="m-2 p-2" type="text" placeholder="Correo" formControlName="correo">
      <input class="m-2 p-2" type="text" placeholder="Especializacion" formControlName="especializacion">
      <input  class="m-2 p-2" type="text" placeholder="ID USUARIO" formControlName="id_usuario">
      <button class="btn" type="submit">Enviar</button>
      <p class="py-4">Presione la tecla ESC o haga clic fuera para cerrar</p>
    </form>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
  </dialog>


  <dialog id="my_modal_2" class="modal" >
    <form  [formGroup]="UpdatedoctorForm" method="dialog" class="modal-box" (ngSubmit)="UpdateDatos()">
      <!-- Campos del formulario -->
      <h3 class="font-bold text-lg"> - CREAR - </h3>
      <input class="m-2 p-2" type="text" placeholder="ID" formControlName="id" [value]="doctorSeleccionado?.id">
      <input class="m-2 p-2" type="text" placeholder="Nombre" formControlName="nombre" [value]="doctorSeleccionado?.nombre">
      <input class="m-2 p-2" type="text" placeholder="Telefono" formControlName="telefono" [value]="doctorSeleccionado?.telefono">
      <input class="m-2 p-2" type="text" placeholder="Correo" formControlName="correo" [value]="doctorSeleccionado?.correo">
      <input class="m-2 p-2" type="text" placeholder="Especializacion" formControlName="especializacion" [value]="doctorSeleccionado?.especializacion">
      <input class="m-2 p-2" type="text" placeholder="ID USUARIO" formControlName="id_usuario" [value]="doctorSeleccionado?.id_usuario">
      <button class="btn" type="submit">Enviar</button>
      <p class="py-4">Presione la tecla ESC o haga clic fuera para cerrar</p>
    </form>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
  </dialog>
</div>
