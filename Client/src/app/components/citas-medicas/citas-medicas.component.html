
<div class="bodyComponents">
  <div class="text-center lg:text-left">
    <h1 class="text-3xl text-center font-bold">Citas Medicas</h1>
  </div>
    <div class="flex flex-row justify-between items-center">
      <div class="flex flex-row">
        <button class="btn flex flex-row items-center m-2 " onclick="my_modal_3.showModal()">
          <img src= "../../../assets/imagenes/boton-agregar.png" alt="+">
          <p class="items-center mx-2">Agregar</p>
        </button>
      </div>
    </div>
    <hr>
    <div class="flex flex-row overflow-x-auto justify-self-center" *ngIf="datos.length > 0 ">
      <table class="table table-zebra text-lg">
        <thead>
          <tr>
            <th>ID</th>
            <th>ID Doctor</th>
            <th>Caso</th>
            <th>Medicina</th>
            <th>Detalles</th>
            <th>ID Usuario</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cita of datos; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ cita.id_doctor }}</td>
            <td>{{ cita.caso }}</td>
            <td>{{ cita.medicina }}</td>
            <td>{{ cita.detalles }}</td>
            <td>{{ cita.id_usuario }}</td>
            <td>
              <button class="btn m-2 btn-accent text-slate-200 " onclick="my_modal_2.showModal()" (click)="ObtenerDatosE(cita)">Editar</button>
              <button class="btn m-2 btn-error text-slate-200  " (click)="EliminarDatos(cita.id)">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <dialog id="my_modal_2" class="modal" >
      <form method="dialog" class="modal-box" (submit)="ModificarDatos(EditarCita)">
        <h3 class="font-bold text-lg"> - EDITAR - </h3>
        <input [(ngModel)]="EditarCita.id" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="ID" [value]="usuarioSeleccionado?.id">
        <input [(ngModel)]="EditarCita.id_doctor" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="ID Doctor" [value]="usuarioSeleccionado?.id_doctor">
        <input [(ngModel)]="EditarCita.caso" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="CASO" [value]="usuarioSeleccionado?.caso">
        <input [(ngModel)]="EditarCita.medicina" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="MEDICINA" [value]="usuarioSeleccionado?.medicina">
        <input [(ngModel)]="EditarCita.detalles" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="DETALLES" [value]="usuarioSeleccionado?.detalles">
        <input [(ngModel)]="EditarCita.id_usuario" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="ID USUARIO" [value]="usuarioSeleccionado?.id_usuario">
        <button class="btn" type="submit">Enviar</button>
        <p class="py-4">Presione la tecla ESC o haga clic fuera para cerrar</p>
      </form>
      <form method="dialog" class="modal-backdrop">
        <button>close</button>
      </form>
    </dialog>
  
    <dialog id="my_modal_3" class="modal">
      <form method="dialog" class="modal-box" (ngSubmit)="AgregarDato()">
        <!-- Campos del formulario -->
        <h3 class="font-bold text-lg"> - CREAR - </h3>
        <input [(ngModel)]="nuevaCita.id" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="ID">
        <input [(ngModel)]="nuevaCita.id_doctor" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="ID Doctor">
        <input [(ngModel)]="nuevaCita.caso" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="CASO">
        <input [(ngModel)]="nuevaCita.medicina" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="MEDICINA">
        <input [(ngModel)]="nuevaCita.detalles" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="DETALLES">
        <input [(ngModel)]="nuevaCita.id_usuario" [ngModelOptions]="{ standalone: true }" class="m-2 p-2" type="text" placeholder="ID USUARIO">
        <button class="btn" type="submit">Enviar</button>
        <p class="py-4">Presione la tecla ESC o haga clic fuera para cerrar</p>
      </form>
      <form method="dialog" class="modal-backdrop">
        <button>close</button>
      </form>
    </dialog>
</div>